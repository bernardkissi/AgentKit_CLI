{
  "schema_version": "1.0.0",
  "kind": "agent_definition",
  "id": "secret_ref",
  "name": "Secret Reference",
  "template_version": "1.0.0",
  "trigger": { "type": "manual", "config": {} },
  "flow": { "entrypoint": "step1" },
  "steps": [
    {
      "id": "step1",
      "type": "llm.prompt",
      "params": {
        "user_prompt": "Hello",
        "api_key": { "$secret": "openai_api_key" }
      },
      "flow": { "end": true }
    }
  ]
}
